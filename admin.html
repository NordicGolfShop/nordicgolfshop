<h1>Admin – Lägg till produkt</h1>
<form id="adminForm">
  <input type="text" id="name" placeholder="Produktnamn" required>
  <input type="text" id="description" placeholder="Beskrivning" required>
  <input type="number" id="price" placeholder="Pris" required>
  <input type="number" id="stock" placeholder="I lager" required>
  <input type="text" id="image" placeholder="Bild URL" required>
  <input type="text" id="qr" placeholder="QR URL" required>
  <button type="submit">Lägg till produkt</button>
</form>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = 'DIN_SUPABASE_URL';
const SUPABASE_KEY = 'DIN_ANON_KEY';
const supabase = Supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

const form = document.getElementById("adminForm");
form.addEventListener("submit", async (e) => {
  e.preventDefault();
  const { data, error } = await supabase
    .from('products')
    .insert([{
      name: document.getElementById("name").value,
      description: document.getElementById("description").value,
      price: parseFloat(document.getElementById("price").value),
      stock: parseInt(document.getElementById("stock").value),
      image: document.getElementById("image").value,
      qr: document.getElementById("qr").value
    }]);
  if (error) alert("Fel vid sparande: " + error.message);
  else { alert("Produkten är tillagd!"); form.reset(); }
});
</script>
